<?xml version="1.0" encoding="utf-8" standalone="yes"?><Drawing Units="cm" PPU="28.34646" Major="1" Subdivisions="10" Zoom="0.4182115" ViewPositionX="324.006" ViewPositionY="-524.1322" ActiveLayer="0" PrintSize="8.5,11"><Layer Name="Layer 1" Visible="True" Locked="False" CreationDate="08/28/2015 21:10:47"><Group><Rectangle X="0" Y="10" Width="28" Height="5" FillColor="#DFEDD6" /><Rectangle X="9.999999" Y="12.5" Width="6.999999" Height="1.5" FillColor="#DFEDD6" StrokeColor="#FFFFFF" Text="Cowboy server" FontSize="24" FontColor="#4B7935" /></Group><Rectangle X="2.5" Y="11" Width="6.5" Height="3" FillColor="#D3E3FC" Text="Ezwebframe service broker" FontSize="18" FontColor="#0045A3" FigureId="0" /><Rectangle X="19.5" Y="11" Width="6.5" Height="3" FillColor="#D3E3FC" Text="Cowboy response" FontSize="18" FontColor="#0045A3" FigureId="1" /><LineConnection X1="7.321102" Y1="11" X2="12.55811" Y2="6" Text="Http request" FontSize="18" StartDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="0" EndConnectionPointId="FIGURE_CENTER" EndFigureId="2" /><LineConnection X1="15.74561" Y1="6" X2="21.1336" Y2="11" Text="Http response" FontSize="18" StartDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="2" EndConnectionPointId="FIGURE_CENTER" EndFigureId="1" /><Rectangle X="6.129211" Y="3" Width="16" Height="3" FillColor="#FEFCE0" Text="Wechat player text" FontSize="24" FontColor="#8D8528" FigureId="2" /><Group><Rectangle X="0" Y="19" Width="28" Height="19" FillColor="#DFEDD6" /><Rectangle X="9" Y="34.54547" Width="11" Height="1.727257" FillColor="#DFEDD6" StrokeColor="#FFFFFF" Text="command_dispatcher.erl" FontSize="24" FontColor="#4B7935" /></Group><Rectangle X="3" Y="26" Width="5.5" Height="2" FillColor="#D3E3FC" Text="Extract GET params" FontSize="18" FontColor="#0045A3" FigureId="3" /><Group><Rectangle X="0" Y="60" Width="28" Height="23" FillColor="#DFEDD6" /><Rectangle X="10" Y="79.5" Width="8.5" Height="1.5" FillColor="#DFEDD6" StrokeColor="#FFFFFF" Text="login_server.erl" FontSize="24" FontColor="#4B7935" /></Group><Stencil Name="Diamond" FigureId="4"><PathShape FillColor="#FFDAD9" Definition="M13.74222 60.98444 L10.98445 62.49222 L13.74222 64 L16.5 62.49222 Z " PathClosed="True" Text="is uid registered" FontSize="13" FontColor="#B9160E" /></Stencil><Rectangle X="6.5" Y="77" Width="14.5" Height="2" FillColor="#FFFFFF" Text="Login player by dynamically starts player fsm with player uid and enters born scene or latest scene" FontSize="18" FontColor="#0045A3" FigureId="5" /><LineConnection X1="13.74223" Y1="64" X2="13.74223" Y2="67.48444" Text="True" FontSize="18" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="4" EndConnectionPointId="FIGURE_CENTER" EndFigureId="6" /><Rectangle X="10.5" Y="21" Width="6.5" Height="2.5" FillColor="#D3E3FC" Text="Compose xml response" FontSize="18" FontColor="#0045A3" FigureId="7" /><Stencil Name="Diamond" FigureId="8"><PathShape FillColor="#FFDAD9" Definition="M23.75777 25.5 L21 27.00778 L23.75777 28.51556 L26.51555 27.00778 Z " PathClosed="True" Text="Validate signature" FontSize="13" FontColor="#B9160E" /></Stencil><LineConnection X1="8.5" Y1="27.00119" X2="21.00218" Y2="27.00659" Text="Validation params" FontSize="18" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="3" EndConnectionPointId="FIGURE_CENTER" EndFigureId="8" /><Rectangle X="3" Y="31.5" Width="5.5" Height="2" FillColor="#D3E3FC" Text="Extract params from xml post message, and invoke module" FontSize="18" FontColor="#0045A3" FigureId="9" /><LineConnection X1="21.98752" Y1="27.54769" X2="8.5" Y2="31.66127" Text="Pass validation" FontSize="18" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="8" EndConnectionPointId="FIGURE_CENTER" EndFigureId="9" /><LineConnection X1="8.116889" Y1="57.68657" X2="8.199317" Y2="57.68657" /><Group><Rectangle X="0" Y="90" Width="28" Height="23" FillColor="#DFEDD6" /><Rectangle X="10" Y="109.5" Width="8.5" Height="1.5" FillColor="#DFEDD6" StrokeColor="#FFFFFF" Text="register_fsm.erl" FontSize="24" FontColor="#4B7935" /></Group><Rectangle X="10" Y="103.9531" Width="7" Height="3" FillColor="#D3E3FC" Text="Process regsitration state" FontSize="18" FontColor="#0045A3" FigureId="10" /><Rectangle X="19.5" Y="91" Width="6.5" Height="3" FillColor="#D3E3FC" Text="Prepare current input content" FontSize="18" FontColor="#0045A3" FigureId="11" /><LineConnection X1="9.009921" Y1="97.4702" X2="19.5" Y2="93.67562" Text="False" FontSize="18" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="12" EndConnectionPointId="FIGURE_CENTER" EndFigureId="11" /><LineConnection X1="5.75" Y1="14" X2="5.75" Y2="26" Text="Integrated http request details" FontSize="18" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="0" EndConnectionPointId="FIGURE_CENTER" EndFigureId="3" /><LineConnection X1="22.28266" Y1="26.3065" X2="16.37932" Y2="23.5" Text="Fail: return composed error message" FontSize="18" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="8" EndConnectionPointId="FIGURE_CENTER" EndFigureId="7" /><Group><Rectangle X="0" Y="150" Width="28" Height="23" FillColor="#DFEDD6" /><Rectangle X="10" Y="169.5" Width="8.5" Height="1.5" FillColor="#DFEDD6" StrokeColor="#FFFFFF" Text="player_fsm.erl" FontSize="24" FontColor="#4B7935" /></Group><Stencil Name="Diamond" FigureId="6"><PathShape FillColor="#FFE2D8" Definition="M13.74222 67.48444 L10.98445 68.99222 L13.74222 70.5 L16.5 68.99222 Z " PathClosed="True" Text="is player logged in" FontSize="13" FontColor="#B9160E" /></Stencil><LineConnection X1="13.74353" Y1="70.49928" X2="13.74914" Y2="77" Text="False: after user input “login”" FontSize="18" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="6" EndConnectionPointId="FIGURE_CENTER" EndFigureId="5" /><Group><Rectangle X="0" Y="120" Width="31" Height="23" FillColor="#DFEDD6" /><Rectangle X="11.07143" Y="139.5" Width="9.410719" Height="1.5" FillColor="#DFEDD6" StrokeColor="#FFFFFF" Text="scene_fsm.erl" FontSize="24" FontColor="#4B7935" /></Group><Rectangle X="6" Y="127" Width="7" Height="3" FillColor="#D3E3FC" Text="Process leave scene event if any" FontSize="18" FontColor="#0045A3" FigureId="13" /><Rectangle X="19" Y="121" Width="7" Height="3" FillColor="#D3E3FC" Text="Prepare current content by scene nls server" FontSize="18" FontColor="#0045A3" FigureId="14" /><LineConnection X1="9.5" Y1="130" X2="9.5" Y2="134" Text="Direction" FontSize="18" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="13" /><Stencil Name="Diamond" FigureId="12"><PathShape FillColor="#FFDAD9" Definition="M7.350222 96.56278 L4.592451 98.07056 L7.350222 99.57835 L10.108 98.07056 Z " PathClosed="True" Text="is registration done" FontSize="13" FontColor="#B9160E" /></Stencil><LineConnection X1="12.25047" Y1="103.9531" X2="8.213197" Y2="99.10652" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="10" EndConnectionPointId="FIGURE_CENTER" EndFigureId="12" /><LineConnection X1="7.759628" Y1="96.78662" X2="13.43114" Y2="79" Text="True" FontSize="18" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="12" EndConnectionPointId="FIGURE_CENTER" EndFigureId="5" /><Rectangle X="11.22802" Y="31.5" Width="6.5" Height="2" FillColor="#D3E3FC" Text="Dispatch command" FontSize="18" FontColor="#0045A3" FigureId="15" /><Rectangle X="17" Y="151" Width="7" Height="3" FillColor="#D3E3FC" Text="Process player state if any" FontSize="18" FontColor="#0045A3" FigureId="16" /><Group><Rectangle X="0" Y="40" Width="28" Height="16" FillColor="#FFFFFF" /><Rectangle X="9" Y="53.0909" Width="11" Height="1.454559" FillColor="#FFFFFF" StrokeColor="#FFFFFF" Text="Commands" FontSize="24" FontColor="#4B7935" /></Group><Rectangle X="2" Y="41" Width="5" Height="2" FillColor="#D3E3FC" Text="direction.erl" FontSize="18" FontColor="#0045A3" FigureId="17" /><LineConnection X1="13.4277" Y1="33.5" X2="5.550318" Y2="41" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="15" EndConnectionPointId="FIGURE_CENTER" EndFigureId="17" /><Rectangle X="2" Y="45" Width="5" Height="2" FillColor="#D3E3FC" Text="logout.erl" FontSize="18" FontColor="#0045A3" FigureId="18" /><LineConnection X1="13.73891" Y1="33.5" X2="5.239113" Y2="45" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="15" EndConnectionPointId="FIGURE_CENTER" EndFigureId="18" /><Rectangle X="2" Y="49" Width="5" Height="2" FillColor="#D3E3FC" Text="lang.erl" FontSize="18" FontColor="#0045A3" FigureId="19" /><LineConnection X1="13.90785" Y1="33.5" X2="5.070173" Y2="49" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="15" EndConnectionPointId="FIGURE_CENTER" EndFigureId="19" /><Rectangle X="2.040817" Y="53" Width="5" Height="2" FillColor="#D3E3FC" Text="rereg.erl" FontSize="18" FontColor="#0045A3" FigureId="20" /><LineConnection X1="14.01583" Y1="33.5" X2="5.003013" Y2="53" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="15" EndConnectionPointId="FIGURE_CENTER" EndFigureId="20" /><Rectangle X="10" Y="164" Width="7" Height="3" FillColor="#D3E3FC" Text="Terminate player fsm" FontSize="18" FontColor="#0045A3" FigureId="21" /><Rectangle X="6" Y="134" Width="7" Height="3" FillColor="#D3E3FC" Text="Remove player uid from scene state" FontSize="18" FontColor="#0045A3" FigureId="22" /><LineConnection X1="12.28571" Y1="134" X2="19.71428" Y2="130" Text="Direction" FontSize="18" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="22" EndConnectionPointId="FIGURE_CENTER" EndFigureId="23" /><Rectangle X="19" Y="127" Width="7" Height="3" FillColor="#D3E3FC" Text="Append player uid to target scene state" FontSize="18" FontColor="#0045A3" FigureId="23" /><LineConnection X1="19.25" Y1="127" X2="12.75" Y2="124" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="23" EndConnectionPointId="FIGURE_CENTER" EndFigureId="24" /><Rectangle X="4" Y="158" Width="6" Height="3" FillColor="#D3E3FC" Text="Switch language in player fsm state" FontSize="18" FontColor="#0045A3" FigureId="25" /><LineConnection X1="17.60714" Y1="154" X2="9.892858" Y2="158" Text="Lang" FontSize="18" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="16" EndConnectionPointId="FIGURE_CENTER" EndFigureId="25" /><LineConnection X1="14.90385" Y1="21" X2="21.36539" Y2="14" Text="Pass xml response" FontSize="18" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="7" EndConnectionPointId="FIGURE_CENTER" EndFigureId="1" /><Rectangle X="6" Y="121" Width="7" Height="3" FillColor="#D3E3FC" Text="Process enter scene event if any" FontSize="18" FontColor="#0045A3" FigureId="24" /><LineConnection X1="13" Y1="122.5" X2="19" Y2="122.5" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="24" EndConnectionPointId="FIGURE_CENTER" EndFigureId="14" /><Rectangle X="73.5" Y="88" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="Prepare logout text" FontSize="18" FigureId="26" /><ElbowPathConnection Filled="False" Definition="M78 88 L78 22.5 C78 22.3625 77.8875 22.25 77.75 22.25 L17 22.25" EndDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="26" EndConnectionPointId="FIGURE_CENTER" EndFigureId="7" /><ElbowPathConnection Filled="False" Definition="M17 165.5 L77.75 165.5 C77.8875 165.5 78 165.3875 78 165.25 L78 90" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="21" EndConnectionPointId="FIGURE_CENTER" EndFigureId="26" /><Rectangle X="-50.5" Y="89" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="Switch language success text" FontSize="18" FigureId="27" /><ElbowPathConnection Filled="False" Definition="M-46 89 L-46 22.5 C-46 22.3625 -45.8875 22.25 -45.75 22.25 L10.5 22.25" EndDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="27" EndConnectionPointId="FIGURE_CENTER" EndFigureId="7" /><ElbowPathConnection Filled="False" Definition="M4 159.5 L-45.75 159.5 C-45.8875 159.5 -46 159.3875 -46 159.25 L-46 91" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="25" EndConnectionPointId="FIGURE_CENTER" EndFigureId="27" /><Rectangle X="-37.5" Y="54" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="Return content" FontSize="18" FigureId="28" /><ElbowPathConnection Filled="False" Definition="M-33 54 L-33 22.5 C-33 22.3625 -32.8875 22.25 -32.75 22.25 L10.5 22.25" EndDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="28" EndConnectionPointId="FIGURE_CENTER" EndFigureId="7" /><ElbowPathConnection Filled="False" Definition="M19.5 92.5 L-32.75 92.5 C-32.8875 92.5 -33 92.3875 -33 92.25 L-33 56" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="11" EndConnectionPointId="FIGURE_CENTER" EndFigureId="28" /><Rectangle X="55" Y="88" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="Return content" FontSize="18" FigureId="29" /><ElbowPathConnection Filled="False" Definition="M59.5 88 L59.5 22.5 C59.5 22.3625 59.3875 22.25 59.25 22.25 L17 22.25" EndDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="29" EndConnectionPointId="FIGURE_CENTER" EndFigureId="7" /><ElbowPathConnection Filled="False" Definition="M26 122.5 L59.25 122.5 C59.3875 122.5 59.5 122.3875 59.5 122.25 L59.5 90" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="14" EndConnectionPointId="FIGURE_CENTER" EndFigureId="29" /><Rectangle X="-30.5" Y="72" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="execute relevant processes" FontSize="18" FigureId="30" /><ElbowPathConnection Filled="False" Definition="M-26 72 L-26 50.25 C-26 50.1125 -25.8875 50 -25.75 50 L2 50" StartDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="30" EndConnectionPointId="FIGURE_CENTER" EndFigureId="19" /><ElbowPathConnection Filled="False" Definition="M17 152.5 L-25.75 152.5 C-25.8875 152.5 -26 152.3875 -26 152.25 L-26 74" StartDecoration="ARROW" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="16" EndConnectionPointId="FIGURE_CENTER" EndFigureId="30" /><ElbowPathConnection Filled="False" Definition="M-26 72 L-26 46.25 C-26 46.1125 -25.8875 46 -25.75 46 L2 46" StartDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="30" EndConnectionPointId="FIGURE_CENTER" EndFigureId="18" /><ElbowPathConnection Filled="False" Definition="M-26 72 L-26 42.25 C-26 42.1125 -25.8875 42 -25.75 42 L2 42" StartDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="30" EndConnectionPointId="FIGURE_CENTER" EndFigureId="17" /><Rectangle X="47.5" Y="104" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="Enter scene" FontSize="18" FigureId="31" /><ElbowPathConnection Filled="False" Definition="M21 78 L51.75 78 C51.8875 78 52 78.1125 52 78.25 L52 104" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="5" EndConnectionPointId="FIGURE_CENTER" EndFigureId="31" /><ElbowPathConnection Filled="False" Definition="M52 106 L52 128.25 C52 128.3875 51.8875 128.5 51.75 128.5 L26 128.5" EndDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="31" EndConnectionPointId="FIGURE_CENTER" EndFigureId="23" /><Rectangle X="33.5" Y="85" Width="16.5" Height="4" FillColor="#FFFFFF" Stroked="False" Text="False: dyanamically starts register_fsm with player uid&#xA;or&#xA;pass player inputs for next register_fsm state" FontSize="18" FigureId="32" /><ElbowPathConnection Filled="False" Definition="M41.75 89 L41.75 105.2031 C41.75 105.3406 41.6375 105.4531 41.5 105.4531 L17 105.4531" EndDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="32" EndConnectionPointId="FIGURE_CENTER" EndFigureId="10" /><ElbowPathConnection Filled="False" Definition="M16.5 62.49222 L41.5 62.49222 C41.6375 62.49222 41.75 62.60472 41.75 62.74222 L41.75 85" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="4" EndConnectionPointId="FIGURE_CENTER" EndFigureId="32" /><Rectangle X="-17.5" Y="70" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="After player logged out" FontSize="18" FigureId="33" /><ElbowPathConnection Filled="False" Definition="M2.040817 54 L-12.75 54 C-12.8875 54 -13 54.1125 -13 54.25 L-13 70" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="20" EndConnectionPointId="FIGURE_CENTER" EndFigureId="33" /><ElbowPathConnection Filled="False" Definition="M-13 72 L-13 105.2031 C-13 105.3406 -12.8875 105.4531 -12.75 105.4531 L10 105.4531" EndDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="33" EndConnectionPointId="FIGURE_CENTER" EndFigureId="10" /><Rectangle X="-25.5" Y="37" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="Uid &amp; command arguments" FontSize="18" FigureId="34" /><ElbowPathConnection Filled="False" Definition="M-21 39 L-21 62.24222 C-21 62.37972 -20.8875 62.49222 -20.75 62.49222 L10.98445 62.49222" EndDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="34" EndConnectionPointId="FIGURE_CENTER" EndFigureId="4" /><ElbowPathConnection Filled="False" Definition="M-21 37 L-21 32.75 C-21 32.6125 -20.8875 32.5 -20.75 32.5 L3 32.5" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="34" EndConnectionPointId="FIGURE_CENTER" EndFigureId="9" /><Rectangle X="-16" Y="141" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="Direction" FontSize="18" FigureId="35" /><ElbowPathConnection Filled="False" Definition="M-11.5 141 L-11.5 128.75 C-11.5 128.6125 -11.3875 128.5 -11.25 128.5 L6 128.5" EndDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="35" EndConnectionPointId="FIGURE_CENTER" EndFigureId="13" /><OrthoginalPathConnection Filled="False" Definition="M-11.5 143 L-11.5 146.75 C-11.5 146.8875 -11.3875 147 -11.25 147 L20.25 147 C20.3875 147 20.5 147.1125 20.5 147.25 L20.5 151" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="35" EndConnectionPointId="FIGURE_CENTER" EndFigureId="16" /><Rectangle X="-24" Y="149" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="Logout" FontSize="18" FigureId="36" /><ElbowPathConnection Filled="False" Definition="M-19.5 149 L-19.5 135.75 C-19.5 135.6125 -19.3875 135.5 -19.25 135.5 L6 135.5" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="36" EndConnectionPointId="FIGURE_CENTER" EndFigureId="22" /><ElbowPathConnection Filled="False" Definition="M-19.5 151 L-19.5 165.25 C-19.5 165.3875 -19.3875 165.5 -19.25 165.5 L10 165.5" EndDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="36" EndConnectionPointId="FIGURE_CENTER" EndFigureId="21" /><Rectangle X="31" Y="47" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="True" FontSize="18" FigureId="37" /><ElbowPathConnection Filled="False" Definition="M35.5 47 L35.5 32.75 C35.5 32.6125 35.3875 32.5 35.25 32.5 L17.72802 32.5" EndDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="37" EndConnectionPointId="FIGURE_CENTER" EndFigureId="15" /><ElbowPathConnection Filled="False" Definition="M35.5 49 L35.5 68.74222 C35.5 68.87971 35.3875 68.99222 35.25 68.99222 L16.5 68.99222" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="37" EndConnectionPointId="FIGURE_CENTER" EndFigureId="6" /><Group><Rectangle X="0" Y="180" Width="28" Height="23" FillColor="#DFEDD6" /><Rectangle X="10" Y="199.5" Width="8.5" Height="1.5" FillColor="#DFEDD6" StrokeColor="#FFFFFF" Text="npc_fsm.erl" FontSize="24" FontColor="#4B7935" /></Group><Rectangle X="20" Y="41" Width="5" Height="2" FillColor="#D3E3FC" Text="look.erl" FontSize="18" FontColor="#0045A3" FigureId="38" /><LineConnection X1="15.32244" Y1="33.5" X2="21.65558" Y2="41" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="15" EndConnectionPointId="FIGURE_CENTER" EndFigureId="38" /><Rectangle X="63.5" Y="104" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="execute relevant processes" FontSize="18" FigureId="39" /><ElbowPathConnection Filled="False" Definition="M25 42 L67.75 42 C67.8875 42 68 42.1125 68 42.25 L68 104" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="38" EndConnectionPointId="FIGURE_CENTER" EndFigureId="39" /><ElbowPathConnection Filled="False" Definition="M24 152.5 L67.75 152.5 C67.8875 152.5 68 152.3875 68 152.25 L68 106" StartDecoration="ARROW" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="16" EndConnectionPointId="FIGURE_CENTER" EndFigureId="39" /><OrthoginalPathConnection Text="Logout" FontSize="18" Filled="False" Definition="M9.5 137 L9.5 143.75 C9.5 143.8875 9.6125 144 9.75 144 L20.25 144 C20.3875 144 20.5 144.1125 20.5 144.25 L20.5 151" StartDecoration="ARROW" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="22" EndConnectionPointId="FIGURE_CENTER" EndFigureId="16" /><Stencil Name="Diamond" FigureId="40"><PathShape FillColor="#FFDAD9" Definition="M22.75 134 L19.5 135.7578 L22.75 137.5156 L26 135.7578 Z " PathClosed="True" Text="is target exists on current scene" FontSize="13" FontColor="#B9160E" /></Stencil><LineConnection X1="20.70159" Y1="151" X2="22.52978" Y2="137.3965" Text="Look" FontSize="18" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="16" EndConnectionPointId="FIGURE_CENTER" EndFigureId="40" /><Rectangle X="10" Y="182" Width="7" Height="3" FillColor="#D3E3FC" Text="Process npc state if any" FontSize="18" FontColor="#0045A3" FigureId="41" /><Rectangle X="45" Y="161" Width="13" Height="2" FillColor="#FFFFFF" Stroked="False" Text="True: Look - show npc description" FontSize="18" FigureId="42" /><ElbowPathConnection Filled="False" Definition="M26 135.7578 L51.25 135.7578 C51.3875 135.7578 51.5 135.8703 51.5 136.0078 L51.5 161" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="40" EndConnectionPointId="FIGURE_CENTER" EndFigureId="42" /><ElbowPathConnection Filled="False" Definition="M51.5 163 L51.5 183.25 C51.5 183.3875 51.3875 183.5 51.25 183.5 L17 183.5" EndDecoration="ARROW" CornerRadius="0.25" Direction="VERTICAL_HORIZONTAL" StartConnectionPointId="FIGURE_CENTER" StartFigureId="42" EndConnectionPointId="FIGURE_CENTER" EndFigureId="41" /><Stencil Name="Diamond" FigureId="43"><PathShape FillColor="#FFDAD9" Definition="M13.5 190 L10 191.7578 L13.5 193.5156 L17 191.7578 Z " PathClosed="True" Text="is target outraged" FontSize="18" FontColor="#B9160E" /></Stencil><LineConnection X1="13.5" Y1="185" X2="13.5" Y2="190" EndDecoration="ARROW" StartConnectionPointId="FIGURE_CENTER" StartFigureId="41" EndConnectionPointId="FIGURE_CENTER" EndFigureId="43" /><ElbowPathConnection Filled="False" Definition="M9.999999 191.7578 L-34.25 191.7578 C-34.3875 191.7578 -34.5 191.6453 -34.5 191.5078 L-34.5 118" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="43" EndConnectionPointId="FIGURE_CENTER" EndFigureId="44" /><Rectangle X="41.5" Y="126" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="False: return no such npc text" FontSize="18" FigureId="45" /><OrthoginalPathConnection Filled="False" Definition="M46 126 L46 125.25 C46 125.1125 45.8875 125 45.75 125 L22.75 125 C22.6125 125 22.5 124.8875 22.5 124.75 L22.5 124" EndDecoration="ARROW" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="45" EndConnectionPointId="FIGURE_CENTER" EndFigureId="14" /><OrthoginalPathConnection Filled="False" Definition="M22.75 134 L22.75 131.25 C22.75 131.1125 22.8625 131 23 131 L45.75 131 C45.8875 131 46 130.8875 46 130.75 L46 128" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="40" EndConnectionPointId="FIGURE_CENTER" EndFigureId="45" /><Rectangle X="-39" Y="116" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="False: return npc description directly" FontSize="18" FigureId="44" /><ElbowPathConnection Filled="False" Definition="M-30 117 L22.25 117 C22.3875 117 22.5 117.1125 22.5 117.25 L22.5 121" EndDecoration="ARROW" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="44" EndConnectionPointId="FIGURE_CENTER" EndFigureId="14" /><Rectangle X="17" Y="158" Width="7" Height="3" FillColor="#D3E3FC" Text="Being attack calculation" FontSize="18" FontColor="#0045A3" FigureId="46" /><Rectangle X="34" Y="176" Width="13" Height="3" FillColor="#FFFFFF" Stroked="False" Text="True: attack player by sending relevant params for attack calculation and return npc description with the attack description" FontSize="18" FigureId="47" /><ElbowPathConnection Filled="False" Definition="M17 191.7578 L40.25 191.7578 C40.3875 191.7578 40.5 191.6453 40.5 191.5078 L40.5 179" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="43" EndConnectionPointId="FIGURE_CENTER" EndFigureId="47" /><OrthoginalPathConnection Filled="False" Definition="M40.5 176 L40.5 168.75 C40.5 168.6125 40.3875 168.5 40.25 168.5 L20.75 168.5 C20.6125 168.5 20.5 168.3875 20.5 168.25 L20.5 161" EndDecoration="ARROW" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="47" EndConnectionPointId="FIGURE_CENTER" EndFigureId="46" /><Rectangle X="35" Y="114" Width="9" Height="2" FillColor="#FFFFFF" Stroked="False" Text="Return attack description" FontSize="18" FigureId="48" /><ElbowPathConnection Filled="False" Definition="M24 159.5 L39.25 159.5 C39.3875 159.5 39.5 159.3875 39.5 159.25 L39.5 116" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="46" EndConnectionPointId="FIGURE_CENTER" EndFigureId="48" /><ElbowPathConnection Filled="False" Definition="M35 115 L22.75 115 C22.6125 115 22.5 115.1125 22.5 115.25 L22.5 121" EndDecoration="ARROW" CornerRadius="0.25" StartConnectionPointId="FIGURE_CENTER" StartFigureId="48" EndConnectionPointId="FIGURE_CENTER" EndFigureId="14" /></Layer></Drawing>